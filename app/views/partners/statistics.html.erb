<h1>Statistics</h1>

<div class="stats" id="stats_by_state">
  <table>
    <thead><tr><th colspan="3">Registrations by State</th></tr></thead>
    <tbody>
      <% @stats_by_state.each do |stat| %>
        <tr class="<%= cycle('even', 'odd') %>">
          <th><%= stat[:state_name] %></th>
          <td><%= stat[:registrations_count] %></td>
          <td><%= "%.1f" % (stat[:registrations_percentage] * 100) %>%</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<% reset_cycle %>
<div class="stats" id="stats_by_race">
  <table>
    <thead><tr><th colspan="3">Registrations by Ethnicity</th></tr></thead>
    <tbody>
      <% @stats_by_race.each do |stat| %>
        <tr class="<%= cycle('even', 'odd') %>">
          <th><%= stat[:race] %></th>
          <td><%= stat[:registrations_count] %></td>
          <td><%= "%.1f" % (stat[:registrations_percentage] * 100) %>%</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<% reset_cycle %>
<div class="stats" id="stats_by_gender">
  <table>
    <thead><tr><th colspan="3">Registrations by Gender</th></tr></thead>
    <tbody>
      <% @stats_by_gender.each do |stat| %>
        <tr class="<%= cycle('even', 'odd') %>">
          <th><%= stat[:gender] %></th>
          <td><%= stat[:registrations_count] %></td>
          <td><%= "%.1f" % (stat[:registrations_percentage] * 100) %>%</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
